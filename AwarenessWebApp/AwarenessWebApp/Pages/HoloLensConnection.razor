@layout MainLayout
@page "/hololensConnection"

<style>
    .custom-border-button {
        display: table-cell;
        background: #1921ad;
        width: 28rem;
        height: 28rem;
        border-radius: 23% 77% 65% 35% / 30% 44% 56% 70%;
        margin: 0 auto;
        vertical-align: middle;
    }
    h1 {
        text-align: center;
        color: white;
    }

    .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
        width: 50%;
    }
</style>

<div class="container">
    <div class="row">
        <div class="col-lg-5 my-auto">
            <div class="procedureSteps">
                <ProcedureSteps />
            </div>
        </div>
        <div class="col-lg-7 my-auto">
            @if (holoLensStatus == "disconnected")
            {
                <div class="custom-border-button" @onclick="testHoloLensConnection"><h1>Probar Conexión</h1></div>
            }
            else if (holoLensStatus == "connecting")
            {
                <img src="./img/loadingButton-unscreen.gif" class="img-fluid center" />
            }
            else if (holoLensStatus == "connected")
            {
                <img src="./img/check.png" class="img-fluid center" />
                <br />
                <a class="btn btn-warning btn-lg btn-block" @onclick="disconnectHoloLens">Desconectar Gafas</a>
            }
            else
            {
                <h2 style="text-align: center;"> ¿Seguro desea desconectar las gafas?</h2>
                <div class="d-flex justify-content-around bd-highlight">
                    <a class="btn btn-success p-2 bd-highlight" @onclick="confirmDisconnectHoloLens"> Si</a>
                    <div class="btn btn-danger p-2 bd-highlight" @onclick="cancelDisconnectHoloLens"> No</div>
                </div>
            }

        </div>
    </div>
</div>


@code {
    private string holoLensStatus = "disconnected";

    private void testHoloLensConnection()
    {
        holoLensStatus = "connecting";
    }
    private void disconnectHoloLens()
    {
        holoLensStatus = "confirmDisconnect";
    }
    private void confirmDisconnectHoloLens()
    {
        holoLensStatus = "disconnected";
    }
    private void cancelDisconnectHoloLens()
    {
        holoLensStatus = "connected";
    }
}
